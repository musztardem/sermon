#!/usr/bin/env ruby

require "bundler/setup"
require "sermon"
require "pry"
require "slop"
require "yaml"

require "config/config_processor"

opts = Slop.parse do |o|
  o.on '--setup', 'Makes copy of config file' do
    Sermon.setup
  end
end

config_path = File.join(File.dirname(__FILE__), '..', 'lib', 'test', 'config', 'sermon.yaml')
config = YAML.load_file(config_path)

config_processor = Sermon::ConfigProcessor.new(config)
config_processor.process

#Sermon.start